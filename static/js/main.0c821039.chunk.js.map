{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/authentication/CenteredContainer.js","components/authentication/Signup.js","components/authentication/Profile.js","components/authentication/Login.js","components/authentication/PrivateRoute.js","components/authentication/ForgotPassword.js","components/authentication/UpdateProfile.js","hooks/useFolder.js","components/drive/AddFileButton.js","components/drive/AddFolderButton.js","components/drive/Folder.js","components/drive/File.js","components/drive/FolderBreadCrumbs.js","components/drive/Navbar.js","components/drive/Dashboard.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","database","folders","collection","files","getCurrentTimeStamp","FieldValue","serverTimestamp","formatDoc","doc","id","data","auth","storage","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrectUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CenteredContainer","Container","className","style","minHeight","maxWidth","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","handleSubmit","e","a","preventDefault","current","push","console","log","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","ref","required","Button","disabled","to","Profile","handleLogout","onClick","Login","PrivateRoute","Component","component","rest","render","props","ForgotPassword","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","childFiles","childFolders","folder","folderId","AddFileButton","currentFolder","uploadingFiles","setUploadingFiles","icon","faFileUpload","onChange","file","target","uuidv4","prev","progress","filePath","map","val","join","uploadTask","uid","put","on","snapshot","bytesTransferred","totalBytes","filter","getDownloadURL","url","where","get","prevfile","docs","update","add","createdAt","userId","opacity","position","left","ReactDOM","createPortal","bottom","right","Toast","onClose","Header","closeButton","ProgressBar","label","Math","round","now","animated","document","body","AddFolderButton","open","setOpen","setName","closeModal","size","faFolderPlus","Modal","show","onHide","parentId","Footer","Folder","as","Link","faFolder","File","href","rel","faFile","FolderBreadCrumbs","Breadcrumb","listProps","Item","linkAs","linkProps","active","NavbarComponent","Navbar","bg","expand","fluid","Brand","Nav","Dashboard","useReducer","dispatch","cleanup","onSnapshot","useFolder","useParams","App","exact","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0c821039.chunk.js","sourcesContent":["import firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\nimport 'firebase/compat/storage';\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_MESSAGING_APP_ID\r\n});\r\nconst firestore = app.firestore();\r\n\r\nexport const database = {\r\n    folders: firestore.collection('folders'),\r\n    files: firestore.collection('files'),\r\n    getCurrentTimeStamp: firebase.firestore.FieldValue.serverTimestamp,\r\n    formatDoc: (doc) => {return {id: doc.id, ...doc.data()}}\r\n};\r\nexport const auth = app.auth();\r\nexport const storage = app.storage();","import React, { useState, useContext, useEffect } from 'react';\r\nimport {auth} from '../firebase'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth(){\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({children}){\r\n    const [currentUser, setCurrectUser] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    const signup = (email, password) =>{\r\n        return auth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n    const login = (email, password) =>{\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n    const logout = () =>{\r\n        return auth.signOut();\r\n    }\r\n    const resetPassword = (email) =>{\r\n        return auth.sendPasswordResetEmail(email);\r\n    }\r\n    const updateEmail = (email) =>{\r\n        return currentUser.updateEmail(email);\r\n    }\r\n    const updatePassword = (password) =>{\r\n        return currentUser.updatePassword(password);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrectUser(user);\r\n            setLoading(false);\r\n        })\r\n        return unsubscribe;\r\n    }, []);\r\n\r\n    const value = {currentUser, signup, login, logout, resetPassword, updateEmail, updatePassword};\r\n    return(\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import React from 'react';\r\nimport {Container} from 'react-bootstrap';\r\n\r\nconst CenteredContainer = ({children}) => {\r\n    return (<>\r\n        <Container className='d-flex align-items-center justify-content-center' style={{minHeight: '100vh'}}>\r\n            <div className='w-100' style={{maxWidth: '400px'}}>\r\n                {children}\r\n            </div>\r\n        </Container>\r\n    </>)\r\n}\r\n\r\nexport default CenteredContainer;","import React, { useState, useRef } from 'react';\r\nimport { Card, Button, Form, Alert } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\nconst Signup = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const {signup} = useAuth();\r\n    const [error, setError] = useState();\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if(passwordRef.current.value === passwordConfirmRef.current.value){\r\n            try {\r\n                setError('');\r\n                setLoading(true);\r\n                await signup(emailRef.current.value, passwordRef.current.value);\r\n                history.push('/');\r\n            } catch (error) {\r\n                setError('Failed to create an account.');\r\n                console.log(error);\r\n            }\r\n            setLoading(false);\r\n        }\r\n        else setError('Passwords do no match.');\r\n    }\r\n\r\n    return (\r\n    <CenteredContainer>\r\n        <h1 className='text-center m-4'>Ererw3 Drive</h1>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className='text-center mb-4'>Sign Up</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id='email'>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type='email' ref={emailRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id='password'>\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type='password' ref={passwordRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id='password-confirm'>\r\n                        <Form.Label>Password Confirmation</Form.Label>\r\n                        <Form.Control type='password' ref={passwordConfirmRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className='w-100 mt-2' type='submit'>Sign Up</Button>\r\n                </Form>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className='w-100 text-center mt-2'>\r\n            Already have an account? <Link to='/login'>Log In</Link>\r\n        </div>\r\n    </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default Signup;","import { useState } from \"react\";\r\nimport { Card, Button, Alert } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {useAuth} from '../../contexts/AuthContext'\r\nimport CenteredContainer from \"./CenteredContainer\";\r\n\r\nconst Profile = () => {\r\n    const [error, setError] = useState('');\r\n    const {currentUser, logout} = useAuth();\r\n    const history = useHistory();\r\n\r\n    const handleLogout = async () => {\r\n        setError('');\r\n        try {\r\n            await logout();\r\n            history.push('/login');\r\n        } catch (error) {\r\n            setError('Failed to logout');\r\n            console.log(error);  \r\n        }\r\n    }\r\n\r\n    return (\r\n    <CenteredContainer>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className='text-center mb-4'>Profile</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <strong>Email:</strong> {currentUser.email}\r\n                <Link to='/update-profile' className='btn btn-primary w-100 mt-3'>Update Profile</Link>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className='w-100 text-center mt-2'>\r\n            <Button onClick={handleLogout} variant='link'>Log Out</Button>\r\n            <Button onClick={() => history.push('/')} variant='link'>To Drive</Button>\r\n        </div>\r\n    </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default Profile; ","import React, { useState, useRef } from 'react';\r\nimport { Card, Button, Form, Alert } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\nconst Login = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const {login} = useAuth();\r\n    const [error, setError] = useState();\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            setError('');\r\n            setLoading(true);\r\n            await login(emailRef.current.value, passwordRef.current.value);\r\n            history.push('/');\r\n        } catch (error) {\r\n            setError('Failed to login.');\r\n            console.log(error);\r\n        }\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n    <CenteredContainer>\r\n        <h1 className='text-center m-4'>Ererw3 Drive</h1>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className='text-center mb-4'>Log In</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id='email'>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type='email' ref={emailRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id='password'>\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type='password' ref={passwordRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className='w-100 mt-2' type='submit'>Log In</Button>\r\n                </Form>\r\n                <div className='w-100 text-center mt-3'>\r\n                    <Link to='/forgot-password'>Forgot Password?</Link>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className='w-100 text-center mt-2'>\r\n            Need an account? <Link to='/signup'>Sign Up</Link>\r\n        </div>\r\n    </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport {useAuth} from '../../contexts/AuthContext'\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => {\r\n    const {currentUser} = useAuth();\r\n    return(\r\n        <Route\r\n            {...rest}\r\n            render={props =>{\r\n                return currentUser ? <Component {...props}/> : <Redirect to='/login' />\r\n            }}\r\n        ></Route>\r\n    )\r\n}\r\n\r\nexport default PrivateRoute;","import React, { useState, useRef } from 'react';\r\nimport { Card, Button, Form, Alert } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\nconst ForgotPassword = () => {\r\n    const emailRef = useRef();\r\n    const {resetPassword} = useAuth();\r\n    const [error, setError] = useState();\r\n    const [loading, setLoading] = useState(false);\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            setError('');\r\n            setLoading(true);\r\n            await resetPassword(emailRef.current.value);\r\n            setError('Check your inbox for further instructions.');\r\n        } catch (error) {\r\n            setError('Failed to reset password.');\r\n            console.log(error);\r\n        }\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n    <CenteredContainer>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className='text-center mb-4'>Reset Password</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id='email'>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type='email' ref={emailRef} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className='w-100' type='submit'>Reset Password</Button>\r\n                </Form>\r\n                <div className='w-100 text-center mt-3'>\r\n                    <Link to='/login'>Login</Link>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className='w-100 text-center mt-2'>\r\n            Need an account? <Link to='/signup'>Sign Up</Link>\r\n        </div>\r\n    </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword;","import React, { useState, useRef } from 'react';\r\nimport { Card, Button, Form, Alert } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\nconst UpdateProfile = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const {updateEmail, updatePassword, currentUser} = useAuth();\r\n    const [error, setError] = useState();\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n    \r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(passwordRef.current.value === passwordConfirmRef.current.value){\r\n            const promises = [];\r\n            if(emailRef.current.value !== currentUser.email) promises.push(updateEmail(emailRef.current.value));\r\n            if(passwordRef.current.value) promises.push(updatePassword(passwordRef.current.value));\r\n            setError('');\r\n            setLoading(true);\r\n            Promise.all(promises).then(() => {\r\n                history.push('/user');\r\n            }).catch((error) => {\r\n                setError('Failed to create an account.');\r\n                console.log(error);\r\n            }).finally(() => {\r\n                setLoading(false);\r\n            })\r\n        }\r\n        else setError('Passwords do no match.');\r\n    }\r\n\r\n    return (\r\n    <CenteredContainer>\r\n        <Card>\r\n            <Card.Body>\r\n                <h2 className='text-center mb-4'>Update Profile</h2>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Form.Group id='email'>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type='email' ref={emailRef} defaultValue={currentUser.email} required></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id='password'>\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type='password' ref={passwordRef} placeholder='Leave blank to keep the same'></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group id='password-confirm'>\r\n                        <Form.Label>Password Confirmation</Form.Label>\r\n                        <Form.Control type='password' ref={passwordConfirmRef} placeholder='Leave blank to keep the same'></Form.Control>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} className='w-100' type='submit'>Update</Button>\r\n                </Form>\r\n            </Card.Body>\r\n        </Card>\r\n        <div className='w-100 text-center mt-2'>\r\n            Don't want to change anything? <Link to='/user'>Cancel</Link>\r\n        </div>\r\n    </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default UpdateProfile;","import { useEffect, useReducer } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { database } from \"../firebase\";\r\n\r\nconst ACTIONS = {\r\n    SELECT_FOLDER: 'select-folder',\r\n    UPDATE_FOLDER: 'update-folder',\r\n    SET_CHILD_FOLDERS: 'set-child-folders',\r\n    SET_CHILD_FILES: 'set-child-files',\r\n}\r\n\r\nexport const ROOT_FOLDER = {name: 'root', id: null, path: []}\r\n\r\nconst reducer = (state, {type, payload}) => {\r\n    switch (type) {\r\n        case ACTIONS.SELECT_FOLDER:\r\n            return {childFiles: [], childFolders: [], folder: payload.folder, folderId: payload.folderId};\r\n        case ACTIONS.UPDATE_FOLDER:\r\n            return {...state, folder: payload.folder};\r\n        case ACTIONS.SET_CHILD_FOLDERS:\r\n            return {...state, childFolders: payload.childFolders};\r\n        case ACTIONS.SET_CHILD_FILES:\r\n            return {...state, childFiles: payload.childFiles};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst useFolder = (folderId = null, folder = null) => {\r\n    const {currentUser} = useAuth();\r\n    const [state, dispatch] = useReducer(reducer, {\r\n        folderId,\r\n        folder,\r\n        childFolders: [],\r\n        childFiles: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(folderId == null) dispatch({type: ACTIONS.UPDATE_FOLDER, payload: {folder: ROOT_FOLDER}});\r\n        else database.folders.doc(folderId).get().then((doc) => {\r\n            dispatch({type: ACTIONS.UPDATE_FOLDER, payload: {folder: database.formatDoc(doc)}});\r\n        }).catch(() => {\r\n            dispatch({type: ACTIONS.UPDATE_FOLDER, payload: {folder: ROOT_FOLDER}});\r\n        })\r\n    }, [folderId])\r\n\r\n    useEffect(() => {\r\n        const cleanup = database.folders.where(\"parentId\", \"==\",  folderId).where(\"userId\", \"==\", currentUser.uid).onSnapshot((snapshot) => {\r\n            dispatch({\r\n                type: ACTIONS.SET_CHILD_FOLDERS, \r\n                payload: {childFolders: snapshot.docs.map(database.formatDoc)}\r\n            })\r\n        });\r\n        return () => cleanup()\r\n    }, [folderId, currentUser])\r\n\r\n    useEffect(() => {\r\n        const cleanup = database.files.where(\"folderId\", \"==\",  folderId).where(\"userId\", \"==\", currentUser.uid).onSnapshot((snapshot) => {\r\n            dispatch({\r\n                type: ACTIONS.SET_CHILD_FILES, \r\n                payload: {childFiles: snapshot.docs.map(database.formatDoc)}\r\n            })\r\n        });\r\n        return () => cleanup()\r\n    }, [folderId, currentUser])\r\n\r\n    return state;\r\n}\r\n\r\nexport {useFolder};","import { faFileUpload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useState } from \"react\";\r\nimport ReactDOM from 'react-dom'\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { database, storage } from \"../../firebase\";\r\nimport {v4 as uuidv4} from 'uuid'\r\nimport { ProgressBar, Toast } from \"react-bootstrap\";\r\n\r\nconst AddFileButton = ({currentFolder}) => {\r\n    const [uploadingFiles, setUploadingFiles] = useState([]);\r\n    const {currentUser} = useAuth();\r\n    const handleUpload = (e) => {\r\n        const file = e.target.files[0];\r\n        if(currentFolder == null || file == null) return;\r\n        const id = uuidv4();\r\n        setUploadingFiles(prev => [\r\n            ...prev,\r\n            {id: id, name: file.name, progress: 0, error: false}\r\n        ])\r\n        const filePath = `${[...currentFolder.path.map(val => val.name), currentFolder.name, file.name].join('/')}`;\r\n        const uploadTask = storage.ref(`/file/${currentUser.uid}/${filePath}`).put(file);\r\n        uploadTask.on('state_changed', (snapshot) => {\r\n            const progress = snapshot.bytesTransferred/snapshot.totalBytes;\r\n            setUploadingFiles(prev => {\r\n                return prev.map(file => {\r\n                    if(file.id === id) return {...file, progress: progress};\r\n                    return file;\r\n                })\r\n            })\r\n        }, () => {\r\n            setUploadingFiles(prev => {\r\n                return prev.map(file => {\r\n                    if(file.id === id) return {...file, error: true};\r\n                    return file;\r\n                })\r\n            })\r\n        }, \r\n        () => {\r\n            setUploadingFiles(prev => {\r\n                return prev.filter(file => file.id !== id);\r\n            })\r\n            uploadTask.snapshot.ref.getDownloadURL().then((url) => {\r\n                database.files.where('name', '==', file.name).where('userId', '==', currentUser.uid).where('folderId', '==', currentFolder.id).get().then(files => {\r\n                    const prevfile = files.docs[0];\r\n                    if(prevfile) prevfile.ref.update({url: url})\r\n                    else database.files.add({\r\n                        url: url,\r\n                        name: file.name,\r\n                        createdAt: database.getCurrentTimeStamp(),\r\n                        folderId: currentFolder.id,\r\n                        userId: currentUser.uid\r\n                    })\r\n                })\r\n                \r\n            })\r\n        })\r\n        e.target.value = null;\r\n    }\r\n    return (<>\r\n        <label className='btn btn-outline-success btn-sm m-0 mt-2 ms-2'>\r\n            <FontAwesomeIcon icon={faFileUpload} />\r\n            <input type=\"file\" onChange={handleUpload} style={{opacity: 0, position: 'absolute', left: '-9999px'}}/>\r\n        </label>\r\n        {ReactDOM.createPortal(\r\n            <div style={{position: 'absolute', bottom: '1rem', right: '1rem', maxWidth: '250px'}}>\r\n                {uploadingFiles.map(file => (\r\n                    <Toast key={file.id} onClose={() => {\r\n                        setUploadingFiles(prev => {\r\n                            return prev.filter(prevfile => prevfile.id !== file.id);\r\n                        })\r\n                    }}>\r\n                        <Toast.Header closeButton={file.error} className='text-truncate w-100 d-block'>\r\n                            {file.name}\r\n                        </Toast.Header>\r\n                        <Toast.Body>\r\n                            <ProgressBar \r\n                                label={file.error ? 'Error' : `${Math.round(file.progress*100)}%`} \r\n                                now={file.error ? 100 : file.progress*100} \r\n                                animated={!file.error} \r\n                                variant={file.error ? 'danger' : 'primary'} \r\n                            />\r\n                        </Toast.Body>\r\n                    </Toast>\r\n                ))}\r\n            </div>,\r\n            document.body\r\n        )}\r\n    </>)\r\n}\r\n\r\nexport default AddFileButton;","import { faFolderPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useState } from \"react\";\r\nimport { Button, Form, Modal } from \"react-bootstrap\";\r\nimport {database} from '../../firebase';\r\nimport {useAuth} from '../../contexts/AuthContext'\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\";\r\n\r\nconst AddFolderButton = ({currentFolder}) => {\r\n    const [open, setOpen] = useState(false)\r\n    const [name, setName] = useState('')\r\n    const {currentUser} = useAuth();\r\n\r\n    const openModal = () => {\r\n        setOpen(true);\r\n    }\r\n    const closeModal = () => {\r\n        setOpen(false);\r\n    }\r\n    const handelSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(currentFolder == null) return;\r\n        const path = [...currentFolder.path];\r\n        if(currentFolder !== ROOT_FOLDER)path.push({name: currentFolder.name, id: currentFolder.id});\r\n        database.folders.add({\r\n            name: name,\r\n            parentId: currentFolder.id,\r\n            userId: currentUser.uid,\r\n            path: path,\r\n            createdAt: database.getCurrentTimeStamp()\r\n        })\r\n        setName('');\r\n        closeModal();\r\n    }\r\n    return (<>\r\n        <Button onClick={openModal} variant='outline-success mt-2' size='sm'>\r\n            <FontAwesomeIcon icon={faFolderPlus} />\r\n        </Button>\r\n        <Modal show={open} onHide={closeModal}>\r\n            <Form onSubmit={handelSubmit}>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>Folder Name</Form.Label>\r\n                        <Form.Control type='text' value={name} onChange={e => setName(e.target.value)} required/>\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant='secondary' onClick={closeModal}>Close</Button>\r\n                    <Button variant='success' type='submit'>Add Folder</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </Modal>\r\n    </>)\r\n}\r\n\r\nexport default AddFolderButton;","import { faFolder } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\"\r\n\r\n\r\nconst Folder = ({folder}) => {\r\n    return (<>\r\n        <Button to={`/folder/${folder.id}`} as={Link} variant='outline-dark' className='text-truncate w-100'>\r\n            <FontAwesomeIcon icon={faFolder} className='me-2' />\r\n            {folder.name}\r\n        </Button>\r\n    </>)\r\n}\r\n\r\nexport default Folder;","import { faFile } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\n\r\nconst File = ({file}) => {\r\n    return (<>\r\n        <a href={file.url} target='_blank' rel=\"noreferrer\" className='btn btn-outline-dark text-truncate w-100'>\r\n            <FontAwesomeIcon icon={faFile} className='me-2' />\r\n            {file.name}\r\n        </a>\r\n    </>)\r\n}\r\n\r\nexport default File;","import { Breadcrumb } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\";\r\n\r\nconst FolderBreadCrumbs = ({currentFolder}) => {\r\n    let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER];\r\n    if(currentFolder) path = [...path, ...currentFolder.path]\r\n    return (<>\r\n        <Breadcrumb className='flex-grow-1' listProps={{ className: 'bg-white m-0'}}>\r\n            {path.map((folder) => (\r\n                <Breadcrumb.Item key={folder.id} linkAs={Link} linkProps={{to: folder.id === null ? '/' : `/folder/${folder.id}`}} className='text-truncate d-inline-block' style={{maxWidth: '150px'}}>\r\n                    {folder.name}\r\n                </Breadcrumb.Item>\r\n            ))}\r\n            <Breadcrumb.Item className='text-truncate d-inline-block' style={{maxWidth: '200px'}} active>\r\n                {currentFolder && currentFolder.name}\r\n            </Breadcrumb.Item>\r\n        </Breadcrumb>\r\n    </>);\r\n}\r\n\r\nexport default FolderBreadCrumbs;","import { Nav, Navbar, Container } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nconst NavbarComponent = () => {\r\n    return (<>\r\n        <Navbar bg='light' expand=''>\r\n            <Container fluid>\r\n                <Navbar.Brand as={Link} to='/'>\r\n                    Ererw3 Drive\r\n                </Navbar.Brand>\r\n                <Nav>\r\n                    <Nav.Link as={Link} to='/user'>\r\n                        Profile\r\n                    </Nav.Link>\r\n                </Nav>\r\n            </Container>\r\n        </Navbar>        \r\n    </>)\r\n}\r\n\r\nexport default NavbarComponent;","import { Container } from \"react-bootstrap\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { useFolder } from \"../../hooks/useFolder\"\r\nimport AddFileButton from \"./AddFileButton\"\r\nimport AddFolderButton from \"./AddFolderButton\"\r\nimport Folder from \"./Folder\"\r\nimport File from \"./File\"\r\nimport FolderBreadCrumbs from \"./FolderBreadCrumbs\"\r\nimport NavbarComponent from \"./Navbar\"\r\n\r\nconst Dashboard = () => {\r\n    const {folderId} = useParams();\r\n    const {folder, childFolders, childFiles} = useFolder(folderId);\r\n    return (<>\r\n        <NavbarComponent />\r\n        <Container fluid>\r\n            <div className='d-flex align-items-center'>\r\n                <FolderBreadCrumbs currentFolder={folder}/>\r\n                <AddFolderButton currentFolder={folder}/>\r\n                <AddFileButton currentFolder={folder}/>\r\n            </div>\r\n            <div className='d-flex flex-wrap'>\r\n                {childFolders.map((folder) => (\r\n                    <div key={folder.id} style = {{maxWidth: '250px'}} className='p-2'>\r\n                        <Folder folder={folder}/>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div className='d-flex flex-wrap'>\r\n                {childFiles.map((file) => (\r\n                    <div key={file.id} style = {{maxWidth: '250px'}} className='p-2'>\r\n                        <File file={file}/>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </Container>\r\n    </>)\r\n}\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport {AuthProvider} from '../contexts/AuthContext';\r\nimport Signup from './authentication/Signup';\r\nimport Profile from './authentication/Profile';\r\nimport Login from './authentication/Login';\r\nimport PrivateRoute from './authentication/PrivateRoute';\r\nimport ForgotPassword from './authentication/ForgotPassword';\r\nimport UpdateProfile from './authentication/UpdateProfile';\r\nimport Dashboard from './drive/Dashboard';\r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            <AuthProvider>\r\n                <Switch>\r\n                    {/* Drive */}\r\n                    <PrivateRoute path='/' exact component={Dashboard}/>\r\n                    <PrivateRoute path='/folder/:folderId' exact component={Dashboard}/>\r\n                    {/* Profile */}\r\n                    <PrivateRoute path='/user' component={Profile} />\r\n                    <PrivateRoute path='/update-profile' exact component={UpdateProfile} />\r\n                    {/* Auth */}\r\n                    <Route path='/signup' component={Signup} />\r\n                    <Route path='/login' component={Login} />\r\n                    <Route path='/forgot-password' component={ForgotPassword}/>\r\n                </Switch>\r\n            </AuthProvider>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}